---

# Ejemplo de como usar command
  - name: Ejecutar un comando en un host remoto.
    command: /usr/sbin/getenforce

# Ejemplo de como usar shell
  - name: Ejecutar un comando en una shell remota.
    shell: echo "test shell" >> /tmp/shell.txt

 # Ejemplo de como ver si un paquete esta instalado
  - name: HTTPD package
    yum:
      list: httpd
    register: salida
    
  - name: Chequeo el estado del paquete
    debug:
      msg: "Not installed"
    when: salida.results | selectattr("yumstate", "match", "installed") | list | length == 0

# Ejemplo de como ver si un servicio esta corriendo   
  - name: Start servicio NTP si no esta levantado
    service:
      name: ntpd
      state: started
      
# Ejemplo de como buscar archivos y mostrarlos      
  - name: Busca archivos *repo
    find:
      paths: /etc/yum.repos.d
      patterns: "*.repo"
    register: yum_repos      
  
# Ejemplo de como cambiar permisos de un file
  - name: Cambiar permisos de un file
    file:
      path: /tmp/foo.conf
      owner: rdnovell
      group: AdmPrep
      mode: '0644'  

# Ejemplo de como copiar un archivos      
  - name: create service control script
    template:
      src: "templates/prueba"
      dest: "/tmp/prueba"
      mode: 0755
      owner: "root"
      group: "root"      
